q
c
http.request(request)
q
c
@uri
c
http.request(request)
c
http.request(request)
c
n
puts @body.to_json
request.uri
port
@uri
c
puts @body.to_json
puts @body.to_jsob
http.request(request)
request.body
@request_class
@uri
c
http.request(request)
c
pp body
@client.perform
c
response
n
c
response = http.request(request)
@uri
c
http.request(request)
c
q
c
q
@uri
@request_class 
response.body
response = http.request(request)
c
e
n
c
n
p
c
e
n
c
q
c
q
c
n
@client.perform
n
"#{ES_HOST}/#{index_name}"
#{ES_HOST}/#{index_name}
q
@complain_ids
c
Utils::index_exists?('complains')
n
Utils::index_exists?('complains')
q
@client
response = @client.perform
c
q
get "/complains"
c
q
BASE_URL
"#{BASE_URL}/#{@complain_ids[1]}"
      delete()
"#{BASE_URL}/#{@complain_ids[1]}"
q
@complain_ids[1]
c
@complain_ids[1]
delete("#{BASE_URL}/#{@complain_ids[1]}")
@complain_ids
q
last_response.status
delete("#{BASE_URL}/#{@complain_ids[1]}")
c
q
c
q
c
n
@new_complain_id
q
response.body
c
q
parsed
n
c
q
JSON.parse(result.body)["_source"]
new_complain_ok
parsed.except('id', 'created_at')
parsed = JSON.parse(result.body)["_source"]
result
n
 expect(parsed.except('id', 'created_at')).to match(new_complain_ok)
parsed
n
c
n
q
JSON.parse(result.body)
result.body
result
JSON.parse(result.body)["results"][0]
result
parsed = JSON.parse(result)["results"][0]
n
c
q
p parsed
n
q
JSON.parse(result.body)
JSON.parse(result.body)["results"][0]
result
result = Services::get_one_complaint(@complain_ids[1])
result
JSON.parse(last_response.body)["results"][0]
Services::get_one_complaint(@complain_ids[1])
q
last_response.status
@created_complain_id
Services::get_one_complaint(@created_complain_id)
n
c
n
q
@created_complain_id
Services::get_one_complaint(@created_complain_id)
c
q
@request_payload["description"]
@request_payload
@request_payload['description']
params["id"]
Services::update_complaint
q
c
q
last_response.status
c
q
c
q
c
n
@client.perform
n
pp body
n
location
title
description
q
e
n
c
"#{BASE_URL}/#{@complain_ids[1]}"
c
q
p create_body(description, title, location)
pp body
n
q
e
n
c
q
"#{BASE_URL}/#{@complain_ids[1]}"
@complain_ids[1]
q
updated_complain
last_response.status
n
q
last_response.status
n
q
expect(last_response.status).to eq(200)
n
q
result
c
q
Y
Q
Y
Q
Y
Q
c
q
response["results"].map {|r| r["created_at"]}
q
response["results"].map {|r| r["id"]}
c
response["results"].map {|r| r["created_at"]}
response["results"].map {|r| r["created_at]}
response["results"].map {|r| r[}
response["results"].map {|r| r}
response
response.
response.map(&:created_at)
result.class
results.class
results.map{|r| r["created_at"]}
results.map{|r| r["created_at"}
results.map("created_at")
results.map(&:created_at)
pp response
paginated[0]
q
parsed["results"][1]
new_complains[0]
parsed["results"][0].except('id', 'created_at')
q
JSON.parse(last_response.body)
c
q
puts @body.to_json
c
q
puts body.to_json
p body.to_json
Dp body.to_json
last_response
last_response.body
parsed = JSON.parse(last_response.body)
pp 
q
response
q
response
q
pp response
q
c
q
pp response
